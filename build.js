(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var AIR, BACKGROUND_COLOR, BARS_OFFSET_X, BARS_OFFSET_Y, BAR_BACKGROUND_COLOR, BAR_BORDER_COLOR, BAR_BORDER_SIZE, BAR_HEIGHT, BAR_WIDTH, BASE_BONUS_MODIFIER, BASE_POINTS, BASE_TIMER, BOARD_OFFSET_X, BOARD_OFFSET_Y, CANVAS_HEIGHT, CANVAS_WIDTH, COLUMNS, EARTH, FIRE, FPS, NEXT_LVL_BASE, RATIO, ROWS, TEXTURES, TILES, TILE_BORDER_COLOR, TILE_BORDER_SIZE, TILE_HEIGHT, TILE_WIDTH, TIMER_MODIFIER, WATER, areAdjacents, barsRenderOpts, board, boardRenderOpts, bonus, bringDown, canvas, canvasRect, ctx, currentLvl, drawBars, drawBoard, drawProgressBar, drawSelectedTile, drawTile, dt, exp, fillRect, gameOver, generateBoard, getColumn, getExp, getIndex, getRow, horizontalMatch, mStep, match, merge, modifier, pick, points, previousTime, random, render, running, step, strokeRect, switchTiles, tick, tile1, tile2, timer, update, verticalMatch, _ref,
  __slice = [].slice,
  __hasProp = {}.hasOwnProperty,
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

random = function(min, max) {
  return Math.floor(min + Math.random() * (max - min + 1));
};

pick = function(choices) {
  return choices[random(0, choices.length - 1)];
};

merge = function() {
  var key, obj, sources, src, value, _i, _len;
  obj = arguments[0], sources = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
  for (_i = 0, _len = sources.length; _i < _len; _i++) {
    src = sources[_i];
    for (key in src) {
      if (!__hasProp.call(src, key)) continue;
      value = src[key];
      obj[key] = value;
    }
  }
  return obj;
};

getColumn = function(index, columns) {
  return index % columns;
};

getRow = function(index, columns) {
  return Math.floor(index / columns);
};

getIndex = function(x, y, columns) {
  return y * columns + x;
};

horizontalMatch = function(board, index, columns) {
  var i, length, start, sum, x, y, _i, _j;
  sum = 0;
  length = board.length;
  x = getColumn(index, columns);
  y = getRow(index, columns);
  start = x - 1;
  if ((0 <= start && start < columns)) {
    for (i = _i = start; start <= 0 ? _i <= 0 : _i >= 0; i = start <= 0 ? ++_i : --_i) {
      if (board[y * columns + i] !== board[index]) {
        break;
      }
      sum += 1;
    }
  }
  start = x + 1;
  if ((0 <= start && start < columns)) {
    for (i = _j = start; start <= columns ? _j < columns : _j > columns; i = start <= columns ? ++_j : --_j) {
      if (!(y * columns + start < length)) {
        break;
      }
      if (board[y * columns + i] !== board[index]) {
        break;
      }
      sum += 1;
    }
  }
  return sum >= 2;
};

verticalMatch = function(board, index, columns, rows) {
  var i, length, start, sum, x, y, _i, _j;
  sum = 0;
  length = board.length;
  x = getColumn(index, columns);
  y = getRow(index, columns);
  start = y - 1;
  if ((0 <= y && y < rows)) {
    for (i = _i = start; start <= 0 ? _i <= 0 : _i >= 0; i = start <= 0 ? ++_i : --_i) {
      if (board[i * columns + x] !== board[index]) {
        break;
      }
      sum += 1;
    }
  }
  start = y + 1;
  if ((0 <= y && y < rows)) {
    for (i = _j = start; start <= rows ? _j < rows : _j > rows; i = start <= rows ? ++_j : --_j) {
      if (!(start * columns + x < length)) {
        break;
      }
      if (board[i * columns + x] !== board[index]) {
        break;
      }
      sum += 1;
    }
  }
  return sum >= 2;
};

match = function(board, index, columns, rows) {
  var horizontal, vertical;
  horizontal = horizontalMatch(board, index, columns);
  vertical = verticalMatch(board, index, columns, rows);
  return horizontal || vertical;
};

areAdjacents = function(tile1, tile2, columns) {
  var x1, x2, y1, y2, _i, _j, _ref, _ref1, _ref2, _ref3, _results, _results1;
  x1 = getColumn(tile1, columns);
  y1 = getRow(tile1, columns);
  x2 = getColumn(tile2, columns);
  y2 = getRow(tile2, columns);
  if (__indexOf.call((function() {
    _results = [];
    for (var _i = _ref = x2 - 1, _ref1 = x2 + 1; _ref <= _ref1 ? _i <= _ref1 : _i >= _ref1; _ref <= _ref1 ? _i++ : _i--){ _results.push(_i); }
    return _results;
  }).apply(this), x1) < 0) {
    return false;
  }
  if (__indexOf.call((function() {
    _results1 = [];
    for (var _j = _ref2 = y2 - 1, _ref3 = y2 + 1; _ref2 <= _ref3 ? _j <= _ref3 : _j >= _ref3; _ref2 <= _ref3 ? _j++ : _j--){ _results1.push(_j); }
    return _results1;
  }).apply(this), y1) < 0) {
    return false;
  }
  if (x1 !== x2 && y1 !== y2) {
    return false;
  }
  return true;
};

drawBoard = function(board, columns, ctx, tileW, tileH, textures, options) {
  var i, _i, _ref, _ref1, _results;
  _results = [];
  for (i = _i = 0, _ref = board.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
    _results.push(drawTile(ctx, i, columns, tileW, tileH, (_ref1 = textures[board[i]]) != null ? _ref1 : '#000', options));
  }
  return _results;
};

drawSelectedTile = function(ctx, columns, width, height, tile, options) {
  if (tile != null) {
    return drawTile(ctx, tile, columns, width, height, 'rgba(0,0,0,0.5)', options);
  }
};

drawTile = function(ctx, index, columns, width, height, color, options) {
  var borderColor, borderSize, offsetX, offsetY, x, y;
  borderColor = options.borderColor, borderSize = options.borderSize, offsetX = options.offsetX, offsetY = options.offsetY;
  x = offsetX + getColumn(index, columns) * width;
  y = offsetY + getRow(index, columns) * height;
  fillRect(ctx, x, y, width, height, color);
  return strokeRect(ctx, x, y, width, height, borderColor, borderSize);
};

fillRect = function(ctx, x, y, width, height, color) {
  ctx.fillStyle = color;
  return ctx.fillRect(x, y, width, height);
};

strokeRect = function(ctx, x, y, width, height, color, size) {
  ctx.lineWidth = size;
  ctx.strokeStyle = color;
  return ctx.strokeRect(x, y, width, height);
};

drawProgressBar = function(ctx, value, max, x, y, width, height, color, options) {
  var backgroundColor, borderColor, borderSize, fill;
  backgroundColor = options.backgroundColor, borderColor = options.borderColor, borderSize = options.borderSize;
  fill = value / max;
  fillRect(ctx, x, y, width, height, backgroundColor);
  fillRect(ctx, x, y, fill * width, height, color);
  return strokeRect(ctx, x, y, width, height, borderColor, borderSize);
};

drawBars = function(ctx, bars, width, height, options) {
  var bar, color, current, fill, i, max, offsetX, offsetY, x, y, _i, _len, _results;
  offsetX = options.offsetX, offsetY = options.offsetY;
  _results = [];
  for (i = _i = 0, _len = bars.length; _i < _len; i = ++_i) {
    bar = bars[i];
    current = bar.current, max = bar.max, color = bar.color;
    x = offsetX;
    y = offsetY + i * height;
    fill = bar.current / bar.max;
    _results.push(drawProgressBar(ctx, current, max, x, y, width, height, color, options));
  }
  return _results;
};

RATIO = 2;

CANVAS_WIDTH = 320 * RATIO;

CANVAS_HEIGHT = 480 * RATIO;

BACKGROUND_COLOR = '#fff';

FPS = 60;

ROWS = 10;

COLUMNS = 8;

TILE_WIDTH = CANVAS_WIDTH / 10;

TILE_HEIGHT = TILE_WIDTH;

BOARD_OFFSET_X = TILE_WIDTH;

BOARD_OFFSET_Y = TILE_HEIGHT * 4;

TILES = (_ref = [0, 1, 2, 3], AIR = _ref[0], EARTH = _ref[1], FIRE = _ref[2], WATER = _ref[3], _ref);

TILE_BORDER_SIZE = 4;

TILE_BORDER_COLOR = '#fff';

TEXTURES = ['#ddd', '#855', '#f55', '#69f'];

BAR_WIDTH = TILE_WIDTH * 8;

BAR_HEIGHT = TILE_HEIGHT / 2;

BAR_BACKGROUND_COLOR = '#eee';

BAR_BORDER_SIZE = 4;

BAR_BORDER_COLOR = '#fff';

BARS_OFFSET_X = TILE_WIDTH;

BARS_OFFSET_Y = TILE_HEIGHT * 2.5;

NEXT_LVL_BASE = 120;

BASE_POINTS = 2;

BASE_BONUS_MODIFIER = 2;

BASE_TIMER = 20000;

TIMER_MODIFIER = 1.25;

canvas = document.createElement('canvas');

canvas.width = CANVAS_WIDTH;

canvas.height = CANVAS_HEIGHT;

ctx = canvas.getContext('2d');

canvasRect = null;

document.body.appendChild(canvas);

generateBoard = function(columns, rows, tiles) {
  var board, i, size, _i;
  size = columns * rows;
  board = [];
  for (i = _i = 0; 0 <= size ? _i < size : _i > size; i = 0 <= size ? ++_i : --_i) {
    while (true) {
      board[i] = pick(tiles);
      if (!match(board, i, columns, rows)) {
        break;
      }
    }
  }
  return board;
};

running = true;

gameOver = false;

tile1 = null;

tile2 = null;

switchTiles = function(board, first, second) {
  var _ref1;
  return _ref1 = [board[second], board[first]], board[first] = _ref1[0], board[second] = _ref1[1], _ref1;
};

canvas.addEventListener('click', function(e) {
  var clickX, clickY, first, index, second, x, y;
  if (canvasRect == null) {
    canvasRect = canvas.getBoundingClientRect();
  }
  clickX = e.clientX - canvasRect.left;
  clickY = e.clientY - canvasRect.top;
  if (running !== true) {
    return;
  }
  x = Math.floor((clickX - BOARD_OFFSET_X) / TILE_WIDTH);
  y = Math.floor((clickY - BOARD_OFFSET_Y) / TILE_HEIGHT);
  if (!((0 <= x && x < COLUMNS))) {
    return;
  }
  if (!((0 <= y && y < ROWS))) {
    return;
  }
  index = getIndex(x, y, COLUMNS);
  if (tile1 === null) {
    tile1 = index;
  } else {
    tile2 = index;
  }
  if (!((tile1 != null) && (tile2 != null))) {
    return;
  }
  if (areAdjacents(tile1, tile2, COLUMNS)) {
    switchTiles(board, tile1, tile2);
    first = match(board, tile1, COLUMNS, ROWS);
    second = match(board, tile2, COLUMNS, ROWS);
    if (!(first || second)) {
      switchTiles(board, tile1, tile2);
    }
  }
  return tile1 = tile2 = null;
});

bringDown = function(board, columns, rows, tiles) {
  var i, next, x, y, _i, _j, _ref1, _ref2, _results;
  for (i = _i = _ref1 = board.length - 1; _ref1 <= 0 ? _i <= 0 : _i >= 0; i = _ref1 <= 0 ? ++_i : --_i) {
    if (board[i] !== null) {
      continue;
    }
    x = getColumn(i, columns);
    y = getRow(i, columns);
    next = (y - 1) * columns + x;
    if ((0 <= next && next < board.length)) {
      switchTiles(board, i, next);
    }
  }
  _results = [];
  for (i = _j = 0, _ref2 = board.length; 0 <= _ref2 ? _j < _ref2 : _j > _ref2; i = 0 <= _ref2 ? ++_j : --_j) {
    if (board[i] === null) {
      _results.push(board[i] = pick(tiles));
    } else {
      _results.push(void 0);
    }
  }
  return _results;
};

getExp = function(tiles, points, bonus) {
  var total;
  total = points * 3;
  if (tiles.length - 3 >= 0) {
    total += (tiles.length - 3) * bonus;
  }
  return total;
};

timer = {
  color: '#2a8',
  current: BASE_TIMER,
  max: BASE_TIMER
};

exp = {
  color: '#f95',
  current: 0,
  max: NEXT_LVL_BASE
};

currentLvl = 1;

points = BASE_POINTS;

bonus = BASE_BONUS_MODIFIER;

barsRenderOpts = {
  backgroundColor: BAR_BACKGROUND_COLOR,
  borderColor: BAR_BORDER_COLOR,
  borderSize: BAR_BORDER_SIZE,
  offsetX: BARS_OFFSET_X,
  offsetY: BARS_OFFSET_Y
};

board = generateBoard(COLUMNS, ROWS, TILES);

boardRenderOpts = {
  borderColor: TILE_BORDER_COLOR,
  borderSize: TILE_BORDER_SIZE,
  offsetX: BOARD_OFFSET_X,
  offsetY: BOARD_OFFSET_Y
};

update = function(dt) {
  var i, matches, _i, _j, _len, _ref1;
  if (running !== true) {
    return;
  }
  timer.current -= 1000 * dt;
  if (timer.current <= 0) {
    timer.current = 0;
    running = false;
    gameOver = true;
    return;
  }
  matches = [];
  for (i = _i = 0, _ref1 = board.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
    if (match(board, i, COLUMNS, ROWS)) {
      matches.push(i);
    }
  }
  for (_j = 0, _len = matches.length; _j < _len; _j++) {
    i = matches[_j];
    board[i] = null;
  }
  if (!(matches.length > 0)) {
    return;
  }
  exp.current += getExp(matches, points, bonus);
  if (exp.current >= exp.max) {
    exp.current = 0;
    points *= currentLvl;
    bonus += 1;
    currentLvl += 1;
    exp.max *= currentLvl;
    timer.current = timer.max = timer.max * TIMER_MODIFIER;
    console.log(timer.max);
  }
  return bringDown(board, COLUMNS, ROWS, TILES);
};

render = function() {
  ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
  fillRect(ctx, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT, BACKGROUND_COLOR);
  drawBars(ctx, [timer, exp], BAR_WIDTH, BAR_HEIGHT, barsRenderOpts);
  drawBoard(board, COLUMNS, ctx, TILE_WIDTH, TILE_HEIGHT, TEXTURES, boardRenderOpts);
  return drawSelectedTile(ctx, COLUMNS, TILE_WIDTH, TILE_HEIGHT, tile1, boardRenderOpts);
};

step = 1 / FPS;

modifier = 1;

mStep = step * modifier;

dt = 0;

previousTime = new Date();

requestAnimationFrame(tick = function() {
  var currentTime;
  currentTime = new Date();
  dt += Math.min(1, (currentTime - previousTime) / 1000);
  previousTime = currentTime;
  while (dt > mStep) {
    update(step);
    dt -= mStep;
  }
  render();
  return requestAnimationFrame(tick);
});



},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9tYWluLmxpdGNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0dJLElBQUEsdTBCQUFBO0VBQUE7O3VKQUFBOztBQUFBLE1BQUEsR0FBUyxTQUFDLEdBQUQsRUFBTSxHQUFOLEdBQUE7U0FDUCxJQUFJLENBQUMsS0FBTCxDQUFXLEdBQUEsR0FBTSxJQUFJLENBQUMsTUFBTCxDQUFBLENBQUEsR0FBZ0IsQ0FBQyxHQUFBLEdBQU0sR0FBTixHQUFZLENBQWIsQ0FBakMsRUFETztBQUFBLENBQVQsQ0FBQTs7QUFBQSxJQUdBLEdBQU8sU0FBQyxPQUFELEdBQUE7U0FDTCxPQUFRLENBQUEsTUFBQSxDQUFPLENBQVAsRUFBVSxPQUFPLENBQUMsTUFBUixHQUFpQixDQUEzQixDQUFBLEVBREg7QUFBQSxDQUhQLENBQUE7O0FBQUEsS0FRQSxHQUFRLFNBQUEsR0FBQTtBQUNOLE1BQUEsdUNBQUE7QUFBQSxFQURPLG9CQUFLLGlFQUNaLENBQUE7QUFBQSxPQUFBLDhDQUFBO3NCQUFBO0FBQUEsU0FBQSxVQUFBOzt1QkFBQTtBQUFBLE1BQUEsR0FBSSxDQUFBLEdBQUEsQ0FBSixHQUFXLEtBQVgsQ0FBQTtBQUFBLEtBQUE7QUFBQSxHQUFBO1NBQ0EsSUFGTTtBQUFBLENBUlIsQ0FBQTs7QUFBQSxTQWNBLEdBQVksU0FBQyxLQUFELEVBQVEsT0FBUixHQUFBO1NBQ1YsS0FBQSxHQUFRLFFBREU7QUFBQSxDQWRaLENBQUE7O0FBQUEsTUFpQkEsR0FBUyxTQUFDLEtBQUQsRUFBUSxPQUFSLEdBQUE7U0FDUCxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUEsR0FBUSxPQUFuQixFQURPO0FBQUEsQ0FqQlQsQ0FBQTs7QUFBQSxRQXNCQSxHQUFXLFNBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxPQUFQLEdBQUE7U0FDVCxDQUFB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RCxDQUpBLENBQUE7U0FPQSxnQkFBQSxDQUNFLEdBREYsRUFDTyxPQURQLEVBQ2dCLFVBRGhCLEVBQzRCLFdBRDVCLEVBQ3lDLEtBRHpDLEVBQ2dELGVBRGhELEVBUk87QUFBQSxDQWhXVCxDQUFBOztBQUFBLElBOFdBLEdBQU8sQ0FBQSxHQUFJLEdBOVdYLENBQUE7O0FBQUEsUUErV0EsR0FBVyxDQS9XWCxDQUFBOztBQUFBLEtBZ1hBLEdBQVEsSUFBQSxHQUFPLFFBaFhmLENBQUE7O0FBQUEsRUFpWEEsR0FBSyxDQWpYTCxDQUFBOztBQUFBLFlBa1hBLEdBQW1CLElBQUEsSUFBQSxDQUFBLENBbFhuQixDQUFBOztBQUFBLHFCQW9YQSxDQUFzQixJQUFBLEdBQU8sU0FBQSxHQUFBO0FBQzNCLE1BQUEsV0FBQTtBQUFBLEVBQUEsV0FBQSxHQUFrQixJQUFBLElBQUEsQ0FBQSxDQUFsQixDQUFBO0FBQUEsRUFDQSxFQUFBLElBQU0sSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFULEVBQVksQ0FBQyxXQUFBLEdBQWMsWUFBZixDQUFBLEdBQStCLElBQTNDLENBRE4sQ0FBQTtBQUFBLEVBRUEsWUFBQSxHQUFlLFdBRmYsQ0FBQTtBQUlBLFNBQU0sRUFBQSxHQUFLLEtBQVgsR0FBQTtBQUNFLElBQUEsTUFBQSxDQUFPLElBQVAsQ0FBQSxDQUFBO0FBQUEsSUFDQSxFQUFBLElBQU0sS0FETixDQURGO0VBQUEsQ0FKQTtBQUFBLEVBT0EsTUFBQSxDQUFBLENBUEEsQ0FBQTtTQVFBLHFCQUFBLENBQXNCLElBQXRCLEVBVDJCO0FBQUEsQ0FBN0IsQ0FwWEEsQ0FBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJTaW5jZSB0aGUgZ2FtZSBpcyBsYXJnZWx5IGJhc2VkIG9uIHRoZSB0aWxlcyBhcHBlYXJpbmcgcmFuZG9tbHksIHdlJ3JlIGdvaW5nIHRvXG5uZWVkIGEgZmV3IGJhc2ljIGZ1bmN0aW9ucyB0byBoZWxwIHdpdGggdGhhdC5cblxuICAgIHJhbmRvbSA9IChtaW4sIG1heCkgLT5cbiAgICAgIE1hdGguZmxvb3IobWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSlcblxuICAgIHBpY2sgPSAoY2hvaWNlcykgLT5cbiAgICAgIGNob2ljZXNbcmFuZG9tKDAsIGNob2ljZXMubGVuZ3RoIC0gMSldXG5cbkJlaW5nIGFibGUgdG8gbWVyZ2Ugb2JqZWN0cyBjYW4gYWxzbyBiZSB1c2VmdWwuXG5cbiAgICBtZXJnZSA9IChvYmosIHNvdXJjZXMuLi4pIC0+XG4gICAgICBvYmpba2V5XSA9IHZhbHVlIGZvciBvd24ga2V5LCB2YWx1ZSBvZiBzcmMgZm9yIHNyYyBpbiBzb3VyY2VzXG4gICAgICBvYmpcblxuVHdvIGhlbHBlcnMgdG8gZ2V0IHRoZSBjb2x1bW4gKHgpIGFuZCB0aGUgcm93ICh5KSBvZiBhIHRpbGUgd2l0aCBpdHMgaW5kZXguLi5cblxuICAgIGdldENvbHVtbiA9IChpbmRleCwgY29sdW1ucykgLT5cbiAgICAgIGluZGV4ICUgY29sdW1uc1xuXG4gICAgZ2V0Um93ID0gKGluZGV4LCBjb2x1bW5zKSAtPlxuICAgICAgTWF0aC5mbG9vcihpbmRleCAvIGNvbHVtbnMpXG5cbi4uLiBhbmQgdGhlaXIgaW52ZXJzZS5cblxuICAgIGdldEluZGV4ID0gKHgsIHksIGNvbHVtbnMpIC0+XG4gICAgICB5ICogY29sdW1ucyArIHhcblxuVGhlIGZ1bmN0aW9ucyBjaGVja2luZyBmb3IgbWF0Y2hlcyB3aWxsIGxvb2sgZm9yIG1hdGNoZXMgd2l0aGluIHRoZSBjdXJyZW50XG5jb2x1bW4gKipvcioqIHJvdy5cblRoZSBhbG9ncml0aG0gdG8gY2hlY2sgZm9yIGEgbWF0Y2ggaXMgYXMgZm9sbG93OiB3ZSBjb3VudCBtYXRjaGVzIHVudGlsIHRoZXJlXG5hcmVuJ3QgYW55bW9yZSBvciB3ZSd2ZSBlbmNvdW50ZXJlZCB0aGUgZW5kIChvciBiZWdpbm5pbmcpIG9mIHRoZSBsaW5lLCBhbmQgd2VcbmRvIHRoaXMgYmFja3dhcmRzIGFuZCBmb3J3YXJkcyB0aGUgZ2l2ZW4gdGlsZS4gSXQgd2lsbCByZXR1cm4gYHRydWVgIGlmIHdlIGhhdmVcbnRocmVlIG9yIG1vcmUgc2FtZSB0aWxlcy5cblxuICAgIGhvcml6b250YWxNYXRjaCA9IChib2FyZCwgaW5kZXgsIGNvbHVtbnMpIC0+XG4gICAgICBzdW0gPSAwXG4gICAgICBsZW5ndGggPSBib2FyZC5sZW5ndGhcbiAgICAgIHggPSBnZXRDb2x1bW4oaW5kZXgsIGNvbHVtbnMpXG4gICAgICB5ID0gZ2V0Um93KGluZGV4LCBjb2x1bW5zKVxuXG4gICAgICBzdGFydCA9IHggLSAxXG4gICAgICBpZiAwIDw9IHN0YXJ0IDwgY29sdW1ucyB0aGVuIGZvciBpIGluIFtzdGFydC4uMF1cbiAgICAgICAgYnJlYWsgdW5sZXNzIGJvYXJkW3kgKiBjb2x1bW5zICsgaV0gPT0gYm9hcmRbaW5kZXhdXG4gICAgICAgIHN1bSArPSAxXG5cbiAgICAgIHN0YXJ0ID0geCArIDFcbiAgICAgIGlmIDAgPD0gc3RhcnQgPCBjb2x1bW5zIHRoZW4gZm9yIGkgaW4gW3N0YXJ0Li4uY29sdW1uc11cbiAgICAgICAgYnJlYWsgdW5sZXNzIHkgKiBjb2x1bW5zICsgc3RhcnQgPCBsZW5ndGhcbiAgICAgICAgYnJlYWsgdW5sZXNzIGJvYXJkW3kgKiBjb2x1bW5zICsgaV0gPT0gYm9hcmRbaW5kZXhdXG4gICAgICAgIHN1bSArPSAxXG4gICAgICBzdW0gPj0gMlxuXG4gICAgdmVydGljYWxNYXRjaCA9IChib2FyZCwgaW5kZXgsIGNvbHVtbnMsIHJvd3MpIC0+XG4gICAgICBzdW0gPSAwXG4gICAgICBsZW5ndGggPSBib2FyZC5sZW5ndGhcbiAgICAgIHggPSBnZXRDb2x1bW4oaW5kZXgsIGNvbHVtbnMpXG4gICAgICB5ID0gZ2V0Um93KGluZGV4LCBjb2x1bW5zKVxuXG4gICAgICBzdGFydCA9IHkgLSAxXG4gICAgICBpZiAwIDw9IHkgPCByb3dzIHRoZW4gZm9yIGkgaW4gW3N0YXJ0Li4wXVxuICAgICAgICBicmVhayB1bmxlc3MgYm9hcmRbaSAqIGNvbHVtbnMgKyB4XSA9PSBib2FyZFtpbmRleF1cbiAgICAgICAgc3VtICs9IDFcblxuICAgICAgc3RhcnQgPSB5ICsgMVxuICAgICAgaWYgMCA8PSB5IDwgcm93cyB0aGVuIGZvciBpIGluIFtzdGFydC4uLnJvd3NdXG4gICAgICAgIGJyZWFrIHVubGVzcyBzdGFydCAqIGNvbHVtbnMgKyB4IDwgbGVuZ3RoXG4gICAgICAgIGJyZWFrIHVubGVzcyBib2FyZFtpICogY29sdW1ucyArIHhdID09IGJvYXJkW2luZGV4XVxuICAgICAgICBzdW0gKz0gMVxuICAgICAgc3VtID49IDJcblxuICAgIG1hdGNoID0gKGJvYXJkLCBpbmRleCwgY29sdW1ucywgcm93cykgLT5cbiAgICAgIGhvcml6b250YWwgPSBob3Jpem9udGFsTWF0Y2goYm9hcmQsIGluZGV4LCBjb2x1bW5zKVxuICAgICAgdmVydGljYWwgPSB2ZXJ0aWNhbE1hdGNoKGJvYXJkLCBpbmRleCwgY29sdW1ucywgcm93cylcbiAgICAgIGhvcml6b250YWwgb3IgdmVydGljYWxcblxuSXQgd291bGQgYWxzbyBiZSB1c2VmdWwgdG8gY2hlY2sgaWYgYSB0aWxlIGlzIGFkamFjZW50IHRvIGFub3RoZXIsIGZvciBleGFtcGxlXG50byBtYWtlIHN1cmUgdGhhdCB3ZSBhcmVuJ3QgdHJ5aW5nIHRvIHN3aXRjaCBhIHRpbGUgZnJvbSB0aGUgZmlyc3Qgcm93IGFuZCBvbmVcbmZyb20gdGhlIGxhc3QuXG5BbHNvLCB0aGUgdHJpY2t5IHBhcnQgaGVyZSBpcyB0aGF0IHdlIGRvbid0IHdhbnQgZGlhZ29uYWwgbWF0Y2hlcy5cblxuICAgIGFyZUFkamFjZW50cyA9ICh0aWxlMSwgdGlsZTIsIGNvbHVtbnMpIC0+XG4gICAgICB4MSA9IGdldENvbHVtbih0aWxlMSwgY29sdW1ucylcbiAgICAgIHkxID0gZ2V0Um93KHRpbGUxLCBjb2x1bW5zKVxuICAgICAgeDIgPSBnZXRDb2x1bW4odGlsZTIsIGNvbHVtbnMpXG4gICAgICB5MiA9IGdldFJvdyh0aWxlMiwgY29sdW1ucylcblxuICAgICAgcmV0dXJuIGZhbHNlIHVubGVzcyB4MSBpbiBbeDIgLSAxLi54MiArIDFdXG4gICAgICByZXR1cm4gZmFsc2UgdW5sZXNzIHkxIGluIFt5MiAtIDEuLnkyICsgMV1cbiAgICAgIHJldHVybiBmYWxzZSBpZiB4MSAhPSB4MiBhbmQgeTEgIT0geTJcbiAgICAgIHRydWVcblxuRHJhd2luZyB0aGUgYm9hcmQgaXMgYXMgc2ltcGxlIGFzIGl0ZXJhdGluZyB0aHJvdWdoIGFsbCB0aGUgdGlsZXMgY29udGFpbmVkIGluXG50aGUgYm9hcmQgYXJyYXkuIFdlIGp1c3QgbmVlZCB0byB0YWtlIGNhcmUgb2YgZHJhd2luZyBpdCAqKndoZXJlKiogd2Ugd2FudCB0b1xuKG9mZnNldHMpIGFuZCAqKmhvdyoqICh0aWxlIHNpemUpIHdlIHdhbnQgdG8uXG5cbiAgICBkcmF3Qm9hcmQgPSAoYm9hcmQsIGNvbHVtbnMsIGN0eCwgdGlsZVcsIHRpbGVILCB0ZXh0dXJlcywgb3B0aW9ucykgLT5cbiAgICAgIGZvciBpIGluIFswLi4uYm9hcmQubGVuZ3RoXVxuICAgICAgICBkcmF3VGlsZShcbiAgICAgICAgICBjdHgsIGksIGNvbHVtbnMsIHRpbGVXLCB0aWxlSCwgdGV4dHVyZXNbYm9hcmRbaV1dID8gJyMwMDAnLCBvcHRpb25zXG4gICAgICAgIClcblxuICAgIGRyYXdTZWxlY3RlZFRpbGUgPSAoY3R4LCBjb2x1bW5zLCB3aWR0aCwgaGVpZ2h0LCB0aWxlLCBvcHRpb25zKSAtPlxuICAgICAgaWYgdGlsZT9cbiAgICAgICAgZHJhd1RpbGUoY3R4LCB0aWxlLCBjb2x1bW5zLCB3aWR0aCwgaGVpZ2h0LCAncmdiYSgwLDAsMCwwLjUpJywgb3B0aW9ucylcblxuICAgIGRyYXdUaWxlID0gKGN0eCwgaW5kZXgsIGNvbHVtbnMsIHdpZHRoLCBoZWlnaHQsIGNvbG9yLCBvcHRpb25zKSAtPlxuICAgICAge2JvcmRlckNvbG9yLCBib3JkZXJTaXplLCBvZmZzZXRYLCBvZmZzZXRZfSA9IG9wdGlvbnNcbiAgICAgIHggPSBvZmZzZXRYICsgZ2V0Q29sdW1uKGluZGV4LCBjb2x1bW5zKSAqIHdpZHRoXG4gICAgICB5ID0gb2Zmc2V0WSArIGdldFJvdyhpbmRleCwgY29sdW1ucykgKiBoZWlnaHRcblxuICAgICAgZmlsbFJlY3QoY3R4LCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjb2xvcilcbiAgICAgIHN0cm9rZVJlY3QoY3R4LCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBib3JkZXJDb2xvciwgYm9yZGVyU2l6ZSlcblxuICAgIGZpbGxSZWN0ID0gKGN0eCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgY29sb3IpIC0+XG4gICAgICBjdHguZmlsbFN0eWxlID0gY29sb3JcbiAgICAgIGN0eC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuXG4gICAgc3Ryb2tlUmVjdCA9IChjdHgsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGNvbG9yLCBzaXplKSAtPlxuICAgICAgY3R4LmxpbmVXaWR0aCA9IHNpemVcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yXG4gICAgICBjdHguc3Ryb2tlUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBkcmF3UHJvZ3Jlc3NCYXIgPSAoY3R4LCB2YWx1ZSwgbWF4LCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjb2xvciwgb3B0aW9ucykgLT5cbiAgICAgIHtiYWNrZ3JvdW5kQ29sb3IsIGJvcmRlckNvbG9yLCBib3JkZXJTaXplfSA9IG9wdGlvbnNcbiAgICAgIGZpbGwgPSB2YWx1ZSAvIG1heFxuXG4gICAgICBmaWxsUmVjdChjdHgsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGJhY2tncm91bmRDb2xvcilcbiAgICAgIGZpbGxSZWN0KGN0eCwgeCwgeSwgZmlsbCAqIHdpZHRoLCBoZWlnaHQsIGNvbG9yKVxuICAgICAgc3Ryb2tlUmVjdChjdHgsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGJvcmRlckNvbG9yLCBib3JkZXJTaXplKVxuXG5cbiAgICBkcmF3QmFycyA9IChjdHgsIGJhcnMsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIC0+XG4gICAgICB7b2Zmc2V0WCwgb2Zmc2V0WX0gPSBvcHRpb25zXG5cbiAgICAgIGZvciBiYXIsIGkgaW4gYmFyc1xuICAgICAgICB7Y3VycmVudCwgbWF4LCBjb2xvcn0gPSBiYXJcbiAgICAgICAgeCA9IG9mZnNldFhcbiAgICAgICAgeSA9IG9mZnNldFkgKyBpICogaGVpZ2h0XG4gICAgICAgIGZpbGwgPSBiYXIuY3VycmVudCAvIGJhci5tYXhcblxuICAgICAgICBkcmF3UHJvZ3Jlc3NCYXIoXG4gICAgICAgICAgY3R4LCBjdXJyZW50LCBtYXgsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGNvbG9yLCBvcHRpb25zXG4gICAgICAgIClcblxuVGhlIGNvbnN0YW50cyBvZiB0aGUgZ2FtZSBzcGVhayBtYWlubHkgZm9yIHRoZW1zZWx2ZXMuXG5XZSBzdGFydCBieSBkZWZpbmluZyB0aGUgc2l6ZSBvZiB0aGUgZ2FtZSBzY3JlZW4gYW5kIHRoZSB0YXJnZXRlZCBGUFMuXG5cbiAgICBSQVRJTyA9IDJcbiAgICBDQU5WQVNfV0lEVEggPSAzMjAgKiBSQVRJT1xuICAgIENBTlZBU19IRUlHSFQgPSA0ODAgKiBSQVRJT1xuICAgIEJBQ0tHUk9VTkRfQ09MT1IgPSAnI2ZmZidcbiAgICBGUFMgPSA2MFxuXG5UaGUgbmV4dCBvbmVzIG9yIG1vcmUgc3BlY2lmaWMgdG8gdGhlIGdhbWUuIEZpcnN0LCB0aGUgc2l6ZSBvZiB0aGUgYm9hcmQgaW5cbmNvbHVtbnMgYW5kIHJvd3MsIGFuZCB0aGVuIHRoZSBzaXplIG9mIHRoZSB0aWxlcy4gVGhlIG9mZnNldCB2YWx1ZXMgYXJlIGZvclxucG9zaXRpb25uaW5nIHRoZSBib2FyZCBvbiB0aGUgc2NyZWVuLlxuXG4gICAgUk9XUyA9IDEwXG4gICAgQ09MVU1OUyA9IDhcbiAgICBUSUxFX1dJRFRIID0gQ0FOVkFTX1dJRFRIIC8gMTBcbiAgICBUSUxFX0hFSUdIVCA9IFRJTEVfV0lEVEhcbiAgICBCT0FSRF9PRkZTRVRfWCA9IFRJTEVfV0lEVEhcbiAgICBCT0FSRF9PRkZTRVRfWSA9IFRJTEVfSEVJR0hUICogNFxuXG5Ob3cgd2UgZGVmaW5lIHRoZSBhdmFpbGFibGUgdHlwZXMgb2YgdGlsZXMgYW5kIHRoZWlyIHJlcHJlc2VudGF0aW9uIChoZXJlLCBhc1xuY29sb3JzKS5cblxuICAgIFRJTEVTID0gW0FJUiwgRUFSVEgsIEZJUkUsIFdBVEVSXSA9IFswLi4uNF1cbiAgICBUSUxFX0JPUkRFUl9TSVpFID0gNFxuICAgIFRJTEVfQk9SREVSX0NPTE9SID0gJyNmZmYnXG4gICAgVEVYVFVSRVMgPSBbJyNkZGQnLCAnIzg1NScsICcjZjU1JywgJyM2OWYnXVxuXG5BbmQgdGhvc2UgZm9yIHRoZSBwcm9ncmVzcyBiYXJzLlxuXG4gICAgQkFSX1dJRFRIID0gVElMRV9XSURUSCAqIDhcbiAgICBCQVJfSEVJR0hUID0gVElMRV9IRUlHSFQgLyAyXG4gICAgQkFSX0JBQ0tHUk9VTkRfQ09MT1IgPSAnI2VlZSdcbiAgICBCQVJfQk9SREVSX1NJWkUgPSA0XG4gICAgQkFSX0JPUkRFUl9DT0xPUiA9ICcjZmZmJ1xuICAgIEJBUlNfT0ZGU0VUX1ggPSBUSUxFX1dJRFRIXG4gICAgQkFSU19PRkZTRVRfWSA9IFRJTEVfSEVJR0hUICogMi41XG5cbkFuZCBmaW5hbGx5IHRoZSBkYXRhIHRoZSBnYW1lIHdpbGwgcmVseSBvbiBmb3IgaXRzIGxvZ2ljLlxuXG4gICAgTkVYVF9MVkxfQkFTRSA9IDEyMFxuICAgIEJBU0VfUE9JTlRTID0gMlxuICAgIEJBU0VfQk9OVVNfTU9ESUZJRVIgPSAyXG4gICAgQkFTRV9USU1FUiA9IDIwMDAwXG4gICAgVElNRVJfTU9ESUZJRVIgPSAxLjI1XG5cblRoZSBnYW1lIGlzIGRpc3BsYXllZCBvbiBhIGBDYW52YXMgRWxlbWVudGAgb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQgc3BlY2lmaWVkIGJ5XG50aGUgY29uc3RhbnRzIGRlZmluZWQgZWFybGllci4gV2UgYWxzbyBuZWVkIHRvIGF0dGFjaCBpdCB0byB0aGUgZG9jdW1lbnQgdG8gbWFrZVxuaXQgdmlzaWJsZS5cblxuICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgY2FudmFzLndpZHRoID0gQ0FOVkFTX1dJRFRIXG4gICAgY2FudmFzLmhlaWdodCA9IENBTlZBU19IRUlHSFRcblxuICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgY2FudmFzUmVjdCA9IG51bGxcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKVxuXG5HZW5lcmF0aW5nIHRoZSBib2FyZCwgd2UgYWxzbyBzdG9yZSBob3cgd2Ugd2FudCB0byByZW5kZXIgdGhlIGJvYXJkIChvZmZzZXRzIGFuZFxudGlsZSBzaXplKSBpbnN0ZWFkIG9mIGZlZWRpbmcgaXQgZWFjaCB0aW1lIHRvIHRoZSBgZHJhd0JvYXJkYCBmdW5jdGlvbiBhcyBhblxub2JqZWN0IGxpdGVyYWwuXG5cblRoZSBib2FyZCBpcyBnb2luZyB0byBiZSByZXByZXNlbnRlZCBhcyBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBvZiB0aWxlcy4gVGhlXG5nZW5lcmF0aW9uIHRha2VzIGNhcmUgb2Ygbm90IHB1dHRpbmcgdGlsZXMgdGhhdCBtYXRjaCB0b2dldGhlcjsgaXQncyBsZWZ0IHRvIHRoZVxucGxheWVyIHRvIGRvIHRoYXQhXG5cbiAgICBnZW5lcmF0ZUJvYXJkID0gKGNvbHVtbnMsIHJvd3MsIHRpbGVzKSAtPlxuICAgICAgc2l6ZSA9IGNvbHVtbnMgKiByb3dzXG4gICAgICBib2FyZCA9IFtdXG4gICAgICBmb3IgaSBpbiBbMC4uLnNpemVdXG4gICAgICAgIGxvb3BcbiAgICAgICAgICBib2FyZFtpXSA9IHBpY2sodGlsZXMpXG4gICAgICAgICAgYnJlYWsgdW5sZXNzIG1hdGNoKGJvYXJkLCBpLCBjb2x1bW5zLCByb3dzKVxuICAgICAgYm9hcmRcblxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHJ1bm5pbmcgPSB5ZXNcbiAgICBnYW1lT3ZlciA9IG9mZlxuXG5Td2l0Y2hpbmcgdGlsZXMgYWx3YXlzIGludm9sdmVzIHR3byB0aWxlcy5cblxuICAgIHRpbGUxID0gbnVsbFxuICAgIHRpbGUyID0gbnVsbFxuXG4gICAgc3dpdGNoVGlsZXMgPSAoYm9hcmQsIGZpcnN0LCBzZWNvbmQpIC0+XG4gICAgICBbYm9hcmRbZmlyc3RdLCBib2FyZFtzZWNvbmRdXSA9IFtib2FyZFtzZWNvbmRdLCBib2FyZFtmaXJzdF1dXG5cbldlIHdhdGNoIGZvciBjbGljayBldmVudHMgb24gdGhlIGNhbnZhcyB0byBzd2l0Y2ggdGlsZXMuIFdlIGhhdmUgYmUgY2FyZWZ1bCBub3RcbnRvIHN3aXRjaCB0aWxlcyB0aGF0IHNob3VsZG4ndCwgc28gd2UgbmVlZCB0byBjaGVjayBhIGZldyB0aGluZ3M6XG4tIGlzIHRoZSBjbGljayBldmVuIG9uIGEgdGlsZT9cbi0gZG8gd2UgaGF2ZSB0d28gdGlsZXM/XG4tIGFyZSB0aGUgdHdvIHRpbGVzIGFkamFjZW50cz9cbi0gZG8gdGhleSBldmVuIG1hdGNoP1xuXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpIC0+XG4gICAgICBjYW52YXNSZWN0ID89IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgY2xpY2tYID0gZS5jbGllbnRYIC0gY2FudmFzUmVjdC5sZWZ0XG4gICAgICBjbGlja1kgPSBlLmNsaWVudFkgLSBjYW52YXNSZWN0LnRvcFxuXG4gICAgICByZXR1cm4gdW5sZXNzIHJ1bm5pbmcgaXMgeWVzXG5cbiAgICAgIHggPSBNYXRoLmZsb29yKChjbGlja1ggLSBCT0FSRF9PRkZTRVRfWCkgLyBUSUxFX1dJRFRIKVxuICAgICAgeSA9IE1hdGguZmxvb3IoKGNsaWNrWSAtIEJPQVJEX09GRlNFVF9ZKSAvIFRJTEVfSEVJR0hUKVxuXG4gICAgICByZXR1cm4gdW5sZXNzIDAgPD0geCA8IENPTFVNTlNcbiAgICAgIHJldHVybiB1bmxlc3MgMCA8PSB5IDwgUk9XU1xuICAgICAgaW5kZXggPSBnZXRJbmRleCh4LCB5LCBDT0xVTU5TKVxuXG4gICAgICBpZiB0aWxlMSBpcyBudWxsIHRoZW4gdGlsZTEgPSBpbmRleFxuICAgICAgZWxzZSB0aWxlMiA9IGluZGV4XG5cbiAgICAgIHJldHVybiB1bmxlc3MgdGlsZTE/IGFuZCB0aWxlMj9cbiAgICAgIGlmIGFyZUFkamFjZW50cyh0aWxlMSwgdGlsZTIsIENPTFVNTlMpXG4gICAgICAgIHN3aXRjaFRpbGVzKGJvYXJkLCB0aWxlMSwgdGlsZTIpXG4gICAgICAgIGZpcnN0ID0gbWF0Y2goYm9hcmQsIHRpbGUxLCBDT0xVTU5TLCBST1dTKVxuICAgICAgICBzZWNvbmQgPSBtYXRjaChib2FyZCwgdGlsZTIsIENPTFVNTlMsIFJPV1MpXG5cbiAgICAgICAgIyBXZSBzd2l0Y2ggYmFjayBpZiB0aGVyZSBhcmUgbm8gbWF0Y2hlc1xuICAgICAgICBzd2l0Y2hUaWxlcyhib2FyZCwgdGlsZTEsIHRpbGUyKSB1bmxlc3MgZmlyc3Qgb3Igc2Vjb25kXG4gICAgICB0aWxlMSA9IHRpbGUyID0gbnVsbFxuICAgIClcblxuVGlsZXMgdGhhdCB3ZXJlIG1hdGNoZWQgYXJlIGVyYXNlZCBmcm9tIHRoZSBib2FyZCwgc28gd2UgbmVlZCBuZXcgdGlsZXMgdG8gdGFrZVxudGhlaXIgcGxhY2UgYW5kIHRoYXQncyB3aGF0IHRoaXMgZnVuY3Rpb24gaXMgYWJvdXQuIFRoZSBjaGVjayBmb3IgJ21hdGNoZWQnXG50aWxlcyBpcyBmcm9tIGJvdHRvbSB0byB0b3AsIGFuZCB3ZSBtYWtlIHRoZSB0aWxlcyBmcm9tIHRoZSB0b3AgY29tZSBkb3duLCBsaWtlXG5hIHdhdGVyZmFsbCB3b3VsZC5cblxuICAgIGJyaW5nRG93biA9IChib2FyZCwgY29sdW1ucywgcm93cywgdGlsZXMpIC0+XG4gICAgICBmb3IgaSBpbiBbYm9hcmQubGVuZ3RoIC0gMS4uMF1cbiAgICAgICAgY29udGludWUgdW5sZXNzIGJvYXJkW2ldIGlzIG51bGxcblxuICAgICAgICB4ID0gZ2V0Q29sdW1uKGksIGNvbHVtbnMpXG4gICAgICAgIHkgPSBnZXRSb3coaSwgY29sdW1ucylcbiAgICAgICAgbmV4dCA9ICh5IC0gMSkgKiBjb2x1bW5zICsgeFxuICAgICAgICBpZiAwIDw9IG5leHQgPCBib2FyZC5sZW5ndGhcbiAgICAgICAgICBzd2l0Y2hUaWxlcyhib2FyZCwgaSwgbmV4dClcbiAgICAgIGZvciBpIGluIFswLi4uYm9hcmQubGVuZ3RoXVxuICAgICAgICBpZiBib2FyZFtpXSBpcyBudWxsXG4gICAgICAgICAgYm9hcmRbaV0gPSBwaWNrKHRpbGVzKVxuXG5cbiAgICBnZXRFeHAgPSAodGlsZXMsIHBvaW50cywgYm9udXMpIC0+XG4gICAgICB0b3RhbCA9IHBvaW50cyAqIDNcbiAgICAgIHRvdGFsICs9ICh0aWxlcy5sZW5ndGggLSAzKSAqIGJvbnVzIGlmIHRpbGVzLmxlbmd0aCAtIDMgPj0gMFxuICAgICAgdG90YWxcblxuVGhlcmUgYXJlIHR3byBiYXJzOiBvbmUgdGhhdCByZXByZXNlbnRzIHRoZSB0aW1lciBhbmQgb25lIHRoYXQgc2hvd3MgaG93IG11Y2hcbmV4cGVyaWVuY2UgdW50aWwgdGhlIG5leHQgbGV2ZWwuXG5cbiAgICB0aW1lciA9XG4gICAgICBjb2xvcjogJyMyYTgnXG4gICAgICBjdXJyZW50OiBCQVNFX1RJTUVSXG4gICAgICBtYXg6IEJBU0VfVElNRVJcbiAgICBleHAgPVxuICAgICAgY29sb3I6ICcjZjk1J1xuICAgICAgY3VycmVudDogMFxuICAgICAgbWF4OiBORVhUX0xWTF9CQVNFXG4gICAgY3VycmVudEx2bCA9IDFcbiAgICBwb2ludHMgPSBCQVNFX1BPSU5UU1xuICAgIGJvbnVzID0gQkFTRV9CT05VU19NT0RJRklFUlxuXG4gICAgYmFyc1JlbmRlck9wdHMgPVxuICAgICAgYmFja2dyb3VuZENvbG9yOiBCQVJfQkFDS0dST1VORF9DT0xPUlxuICAgICAgYm9yZGVyQ29sb3I6IEJBUl9CT1JERVJfQ09MT1JcbiAgICAgIGJvcmRlclNpemU6IEJBUl9CT1JERVJfU0laRVxuICAgICAgb2Zmc2V0WDogQkFSU19PRkZTRVRfWFxuICAgICAgb2Zmc2V0WTogQkFSU19PRkZTRVRfWVxuXG5MZXQncyBnZW5lcmF0ZSB0aGUgYm9hcmQgYW5kIHN0b3JlIGEgZmV3IHZhbHVlcyBmb3IgdGhlIHJlbmRlcmluZy5cblxuICAgIGJvYXJkID0gZ2VuZXJhdGVCb2FyZChDT0xVTU5TLCBST1dTLCBUSUxFUylcbiAgICBib2FyZFJlbmRlck9wdHMgPVxuICAgICAgYm9yZGVyQ29sb3I6IFRJTEVfQk9SREVSX0NPTE9SXG4gICAgICBib3JkZXJTaXplOiBUSUxFX0JPUkRFUl9TSVpFXG4gICAgICBvZmZzZXRYOiBCT0FSRF9PRkZTRVRfWFxuICAgICAgb2Zmc2V0WTogQk9BUkRfT0ZGU0VUX1lcblxuICAgIHVwZGF0ZSA9IChkdCkgLT5cbiAgICAgIHJldHVybiB1bmxlc3MgcnVubmluZyBpcyB5ZXNcblxuICAgICAgdGltZXIuY3VycmVudCAtPSAxMDAwICogZHRcbiAgICAgIGlmIHRpbWVyLmN1cnJlbnQgPD0gMFxuICAgICAgICB0aW1lci5jdXJyZW50ID0gMFxuICAgICAgICBydW5uaW5nID0gb2ZmXG4gICAgICAgIGdhbWVPdmVyID0gdHJ1ZVxuICAgICAgICByZXR1cm5cblxuICAgICAgbWF0Y2hlcyA9IFtdXG4gICAgICBmb3IgaSBpbiBbMC4uLmJvYXJkLmxlbmd0aF1cbiAgICAgICAgbWF0Y2hlcy5wdXNoIGkgaWYgbWF0Y2goYm9hcmQsIGksIENPTFVNTlMsIFJPV1MpXG4gICAgICBib2FyZFtpXSA9IG51bGwgZm9yIGkgaW4gbWF0Y2hlc1xuICAgICAgcmV0dXJuIHVubGVzcyBtYXRjaGVzLmxlbmd0aCA+IDBcblxuICAgICAgZXhwLmN1cnJlbnQgKz0gZ2V0RXhwKG1hdGNoZXMsIHBvaW50cywgYm9udXMpXG4gICAgICAjIEx2bCB1cCEgXFxvL1xuICAgICAgaWYgZXhwLmN1cnJlbnQgPj0gZXhwLm1heFxuICAgICAgICBleHAuY3VycmVudCA9IDBcbiAgICAgICAgcG9pbnRzICo9IGN1cnJlbnRMdmxcbiAgICAgICAgYm9udXMgKz0gMVxuICAgICAgICBjdXJyZW50THZsICs9IDFcbiAgICAgICAgZXhwLm1heCAqPSBjdXJyZW50THZsXG4gICAgICAgIHRpbWVyLmN1cnJlbnQgPSB0aW1lci5tYXggPSB0aW1lci5tYXggKiBUSU1FUl9NT0RJRklFUlxuICAgICAgICBjb25zb2xlLmxvZyB0aW1lci5tYXhcblxuICAgICAgYnJpbmdEb3duKGJvYXJkLCBDT0xVTU5TLCBST1dTLCBUSUxFUylcblxuICAgIHJlbmRlciA9IC0+XG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIENBTlZBU19XSURUSCwgQ0FOVkFTX0hFSUdIVClcbiAgICAgIGZpbGxSZWN0KGN0eCwgMCwgMCwgQ0FOVkFTX1dJRFRILCBDQU5WQVNfSEVJR0hULCBCQUNLR1JPVU5EX0NPTE9SKVxuXG4gICAgICBkcmF3QmFycyhjdHgsIFt0aW1lciwgZXhwXSwgQkFSX1dJRFRILCBCQVJfSEVJR0hULCBiYXJzUmVuZGVyT3B0cylcbiAgICAgIGRyYXdCb2FyZChcbiAgICAgICAgYm9hcmQsIENPTFVNTlMsIGN0eCwgVElMRV9XSURUSCwgVElMRV9IRUlHSFQsIFRFWFRVUkVTLCBib2FyZFJlbmRlck9wdHNcbiAgICAgIClcbiAgICAgIGRyYXdTZWxlY3RlZFRpbGUoXG4gICAgICAgIGN0eCwgQ09MVU1OUywgVElMRV9XSURUSCwgVElMRV9IRUlHSFQsIHRpbGUxLCBib2FyZFJlbmRlck9wdHNcbiAgICAgIClcblxuVGhlIG1haW4gbG9vcCBvZiB0aGUgZ2FtZS5cblxuICAgIHN0ZXAgPSAxIC8gRlBTXG4gICAgbW9kaWZpZXIgPSAxXG4gICAgbVN0ZXAgPSBzdGVwICogbW9kaWZpZXJcbiAgICBkdCA9IDBcbiAgICBwcmV2aW91c1RpbWUgPSBuZXcgRGF0ZSgpXG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdGljayA9IC0+XG4gICAgICBjdXJyZW50VGltZSA9IG5ldyBEYXRlKClcbiAgICAgIGR0ICs9IE1hdGgubWluKDEsIChjdXJyZW50VGltZSAtIHByZXZpb3VzVGltZSkgLyAxMDAwKVxuICAgICAgcHJldmlvdXNUaW1lID0gY3VycmVudFRpbWVcblxuICAgICAgd2hpbGUgZHQgPiBtU3RlcFxuICAgICAgICB1cGRhdGUoc3RlcClcbiAgICAgICAgZHQgLT0gbVN0ZXBcbiAgICAgIHJlbmRlcigpXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdGlja1xuIl19
